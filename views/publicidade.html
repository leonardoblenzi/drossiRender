<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Publicidade ‚Ä¢ Product Ads</title>

  <!-- Reaproveita estilos globais -->
  <link rel="stylesheet" href="/css/dashboard.css?v=2">
  <link rel="stylesheet" href="/css/publicidade.css?v=1">
</head>
<body>
  <!-- TOPO FIXO (mesmo padr√£o Promo√ß√µes / Full) -->
  <header class="account-bar">
    <div class="account-bar__left">
      <span class="logo">üì£</span>
      <span class="app-name">Publicidade ‚Ä¢ Product Ads</span>
    </div>
    <div class="account-bar__right">
      <div class="account-bar__current">
        <span class="lbl">Conta:</span>
        <span class="val" data-account-label>carregando‚Ä¶</span>
      </div>
      <button id="account-switch" class="account-bar__switch" type="button" data-account-switch>
        Trocar Conta
      </button>
    </div>
  </header>

  <div class="wrap publicidade-wrap">
    <header class="page-header">
      <div>
        <h2>Product Ads</h2>
        <p class="subtitle">
          Visualize campanhas de Product Ads, acompanhe as principais m√©tricas e veja os an√∫ncios participantes.
        </p>
      </div>

      <!-- Filtros de per√≠odo -->
      <form id="ads-filters" class="ads-filters" autocomplete="off">
        <div class="ads-filters__group">
          <label for="dateFrom">De</label>
          <input id="dateFrom" name="dateFrom" type="date">
        </div>
        <div class="ads-filters__group">
          <label for="dateTo">At√©</label>
          <input id="dateTo" name="dateTo" type="date">
        </div>
        <button id="btnReloadAds" type="button" class="btn primary">Atualizar m√©tricas</button>
      </form>
    </header>

    <!-- Resumo num√©rico -->
    <section class="ads-summary">
      <div class="ads-summary-grid">
        <article class="ads-summary-card">
          <h3>Investimento</h3>
          <p id="sumCost" class="ads-summary__value">R$ 0,00</p>
          <p class="ads-summary__hint">Custo total das campanhas no per√≠odo</p>
        </article>

        <article class="ads-summary-card">
          <h3>Cliques</h3>
          <p id="sumClicks" class="ads-summary__value">0</p>
          <p class="ads-summary__hint">Total de cliques gerados</p>
        </article>

        <article class="ads-summary-card">
          <h3>Impress√µes</h3>
          <p id="sumPrints" class="ads-summary__value">0</p>
          <p class="ads-summary__hint">Quantidade de vezes que seus an√∫ncios apareceram</p>
        </article>

        <article class="ads-summary-card">
          <h3>CTR m√©dio</h3>
          <p id="avgCtr" class="ads-summary__value">0,00%</p>
          <p class="ads-summary__hint">Taxa m√©dia de cliques sobre impress√µes</p>
        </article>

        <article class="ads-summary-card">
          <h3>ACOS m√©dio</h3>
          <p id="avgAcos" class="ads-summary__value">0,00%</p>
          <p class="ads-summary__hint">Custo em rela√ß√£o ao faturamento</p>
        </article>

        <article class="ads-summary-card">
          <h3>ROAS m√©dio</h3>
          <p id="avgRoas" class="ads-summary__value">0,00x</p>
          <p class="ads-summary__hint">Retorno sobre o investimento em an√∫ncios</p>
        </article>

        <article class="ads-summary-card">
          <h3>Vendas (unid.)</h3>
          <p id="sumUnits" class="ads-summary__value">0</p>
          <p class="ads-summary__hint">Unidades vendidas atribu√≠das aos an√∫ncios</p>
        </article>

        <article class="ads-summary-card">
          <h3>Faturamento</h3>
          <p id="sumAmount" class="ads-summary__value">R$ 0,00</p>
          <p class="ads-summary__hint">Valor de vendas atribu√≠das √†s campanhas</p>
        </article>
      </div>
    </section>

    <!-- Gr√°fico de m√©tricas (di√°rio) -->
    <section class="ads-chart">
      <div class="card">
        <header class="card-header">
          <div>
            <h3>Evolu√ß√£o das m√©tricas</h3>
            <p class="muted">
              Visualize impress√µes, cliques, investimento e faturamento no per√≠odo selecionado.
            </p>
          </div>
        </header>

        <div class="ads-chart-wrapper" style="height: 260px;">
          <canvas id="adsMetricsChart"></canvas>
        </div>
      </div>
    </section>

     <!-- ===================== RANKING DE CAMPANHAS ===================== -->
    <section class="ads-ranking">
      <div class="card">
        <header class="card-header ads-ranking-header">
          <div>
            <h3>Ranking de campanhas</h3>
            <p id="rankingPeriod" class="muted">
              Per√≠odo: ‚Äî
            </p>
          </div>
        </header>

        <div class="table-wrapper table-wrapper--wide">
          <table class="table table-ranking" id="tblCampaigns">
            <thead>
              <tr>
                <th class="sticky-col">Nome da campanha</th>
                <th>Status</th>
                <th>Estrat√©gia</th>
                <th>ACOS objetivo</th>
                <th>ACOS</th>
                <th>TACOS</th>
                <th>CPI</th>
                <th>LISB</th>
                <th>LISAR</th>
                <th>Participa√ß√£o</th>
                <th>Vendas publicidade</th>
                <th>Impress√µes</th>
                <th>Cliques</th>
                <th>Investimento</th>
                <th>CPC</th>
                <th>CTR</th>
                <th>Receita</th>
                <th>Retornos</th>
              </tr>
            </thead>
            <tbody id="tbodyCampaigns">
              <tr>
                <td colspan="18" class="muted">
                  Nenhuma campanha carregada. Clique em <strong>Atualizar m√©tricas</strong>.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- ===================== DETALHE DA CAMPANHA ===================== -->
    <section class="ads-detail">
              <!-- ITENS DA CAMPANHA (MLBs) -->
        <div class="table-wrapper table-wrapper--wide ads-items-wrapper">
          <table class="table ads-items-table" id="tblItems">
            <thead>
              <tr>
                <th class="sticky-col">Produto</th>
                <th>Qualidade da publica√ß√£o</th>
                <th>ACOS</th>
                <th>TACOS</th>
                <th>Impress√µes</th>
                <th>Cliques</th>
                <th>CTR</th>
                <th>CPC</th>
                <th>Convers√£o publicit√°ria</th>
                <th>Vendas publicidade</th>
                <th>Vendas diretas</th>
                <th>Vendas assistidas</th>
              </tr>
            </thead>
            <tbody id="tbodyItems">
              <tr>
                <td colspan="12" class="muted">
                  Nenhuma campanha selecionada.
                </td>
              </tr>
            </tbody>
          </table>
          <div class="ads-pagination" id="adsPagination"></div>

        </div>

    </section>

  <!-- Chart.js para o gr√°fico -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Scripts globais -->
  <script src="/js/account-bar.js" defer></script>
  <!-- Script espec√≠fico da p√°gina (carrega campanhas / itens / gr√°fico) -->
  <script src="/js/publicidade.js" defer></script>
</body>
</html>
